# java-janggi

장기 미션 저장소

---

## 미션을 수행하며 반드시 고민할 것
- [X] 장기의 말(駒)들은 어떻게 객체로 나누어야 하는가?
- [x] 각 말의 이동 규칙을 어떻게 설계할 것인가?
- [x] 객체 간의 책임을 어떻게 나눌 것인가?
- [X] 어떤 원칙을 적용해야 더 좋은 설계를 할 수 있을까?
  - TDD 잘 활용
  - 행동과 상태를 기준으로 객체를 잘 분리함
  - 추상화를 활용하여 기능 추가에 용이함

---

- [X] 개발을 시작하기 전에 어떤 기능을 구현해야 하는지 정리하라.
- [X] 정리한 내용을 .md 파일로 제출하라.
- [X] 궁(宮) 또는 궁성(宮城)의 영역은 구현하지 마라.

## 1. 판 만들기 - 첫 시작시의 장기의 보드판 그리고 각 기물을 구현하라

- 1단계에서는 장기 기물들의 동작은 구현하지 않는다.
- 구현 전에 해야 할 일

- [X] 즉, 장기판의 왕(將, 帥)과 사(士, 仕)의 이동과 관련된 규칙은 고려하지 않는다.
- 📌 즉, 개발 과정에서 단순히 코드만 작성하지 말고,
- [X] 나는 왜 이렇게 구현할까? 라는 고민을 정리하는 것이 중요하다.

### 나는 왜 이렇게 구현했을까?
- 보드판을 객체로 만들어야 하는 이유
  - 장기 객체들을 들고 있는 일급 컬렉션
  - OutOfBound 벨리데이션 가능
  - 장애물 이동 불가 상황 제어 가능
- 기물을 객체로 만들어야 하는 이유
  - 이름, 좌표와 같은 상태와 기물의 움직임을 의미하는 행동이 정의됨.
  - 캡슐화를 통해 재사용이 용이하게 만든다.
- 기물을 상속하는 이유
  - 비슷한 특징을 가진 다른 기물들과의 다형성을 활용할 수 있음
  - 코드 중복을 줄일 수 있다.

### 객체 설계

- 장기판
  - [x] ArrayList<ArrayList<Dot>>
  - [x] 교차점 (Dot)
    - [x] 기물(을 위에 올려둘 수 있음. = 가질 수 있음)
    - [x] 행동 : yes or no (기물이 올려졌냐? 비었냐)

- [x] 포인트 (좌표)
  - x, y

- [X] 기물
  - [x] 장
    - [x] 색상(팀)
    - [x] 행동 : 상하좌우 1칸으로 이동할 수 있는 지점 여부 반환
    - [x] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [x] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환
  - [x] 사
    - [x] 색상(팀)
    - [x] 행동 : 상하좌우 1칸으로 이동할 수 있는 지점 여부 반환
    - [x] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [x] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환
  - [X] 마
    - [x] 색상(팀)
    - [x] 행동 : 상하좌우 1칸 + 대각선 1칸으로 이동할 수 있는 지점 여부 반환
    - [x] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [X] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환
  - [X] 상
    - [X] 색상(팀)
    - [X] 행동 : 상하좌우 1칸 + 대각선 2칸으로 이동할 수 있는 지점 여부 반환
    - [x] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [X] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환
  - [X] 차
    - [X] 색상(팀)
    - [X] 행동 : 상하좌우 무한으로 이동할 수 있는 지점 여부 반환
    - [x] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [X] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환
  - [X] 포
    - [X] 색상(팀)
    - [X] 행동 : 1개 기물 뛰어 넘을 시, 상하좌우 무한으로 이동할 수 있는 지점 여부 반환
    - [X] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [X] 행동 : 이동 경로에 장애물이 1개 존재해 실제로 이동 가능한지 여부 반환
  - [X] 병
    - [X] 색상(팀)
    - [X] 행동 : 상좌우 1칸으로 이동할 수 있는 지점 여부 반환
    - [X] 행동 : 이동 지점에 대한 이동 경로를 반환함
    - [X] 행동 : 이동 경로에 장애물이 없어 실제로 이동 가능한지 여부 반환

---
# UI 예시

1. 상차림 종류를 선택하세요
   * 현재는 양 팀이 동일한 셋팅, 추후 변경 가능
2. 상차림에 따른 장기판 보여주기
3. 초,한 나라 가 번갈아서 이동 전 위치와 이동 후 위치를 입력한다. 
   * 이동 시킬 기물을 선택하세요. ex) 1 0
   * 이동 할 위치를 선택하세요.   ex) 2 3
   * 예외의 경우, 메시지 출력 후 처음부터 재입력.
4. 이동 후 업데이트 된 장기판 보여주기

```java
    一   二   三   四   五   六   七   八   九
1   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
2   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
3   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
4   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
5   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
6   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
7   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
8   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
9   ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ
    ⎹   ▕   ▕   ▕   ▕   ▕   ▕   ▕   ▕
10  ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ‒‒‒ㅇ


```

---
## Pho에서 instanceOf를 사용한 이유에 대한 고찰
필요 : 포를 구별해야함 -> 포 안에서 내 이동경로에 위치한 장기말이 포인지 여부를 각각 다 반환

1. instanceOf를 Pho내부에서 사용
- 단점 : 캡슐화가 깨질수있다. 근데 Pho 내부에서 사용하기 때문에 이 케이스는 해당 안됨. OCP도 위반 안됨. SRP도 해당 안됨.

2. abstract 메서드 isPho추가
- 단점 : only Pho 나머지 다 구현해야 됨
